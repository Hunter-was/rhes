<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Chat with Jeff</title>
<style>
  body{margin:0;font-family:sans-serif;background:#0f1724;color:#e6eef8;display:flex;justify-content:center;align-items:center;height:100vh}
  .container{width:600px;max-width:95%;background:#0b1220;border-radius:12px;display:flex;flex-direction:column;overflow:hidden}
  .chat{flex:1;overflow:auto;padding:12px;display:flex;flex-direction:column;gap:10px;background:#0b1228}
  .msg{padding:8px 12px;border-radius:10px;max-width:75%;}
  .user{align-self:flex-end;background:rgba(6,182,212,0.2);}
  .ai{align-self:flex-start;background:rgba(255,255,255,0.05);}
  .composer{display:flex;border-top:1px solid rgba(255,255,255,0.1);padding:8px;gap:8px}
  input{flex:1;padding:8px;border-radius:8px;border:none;background:#071022;color:#fff}
  button{padding:8px 12px;border-radius:8px;border:none;background:#06b6d4;color:#021021;cursor:pointer}
</style>
</head>
<body>
<div class="container">
  <div class="chat" id="messages">
    <div class="msg ai">Hi! I'm Jeff, your friendly AI helper.</div>
  </div>
  <div class="composer">
    <input id="input" placeholder="Type a message to Jeff..." />
    <button id="send">Send</button>
  </div>
</div>

<script>
const messagesEl = document.getElementById('messages');
const inputEl = document.getElementById('input');
const sendBtn = document.getElementById('send');

// ⚠️ Put your OpenAI key here
const OPENAI_KEY = "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";

function appendMessage(text, who='ai'){
  const div = document.createElement('div');
  div.className = 'msg ' + who;
  div.textContent = text;
  messagesEl.appendChild(div);
  messagesEl.scrollTop = messagesEl.scrollHeight;
}

async function generateReply(userText){
  try {
    const response = await fetch("https://api.openai.com/v1/responses", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${OPENAI_KEY}`
      },
      body: JSON.stringify({
        model: "gpt-4.1-mini",
        input: [
          { role: "system", content: "You are Jeff, a friendly helpful AI assistant." },
          { role: "user", content: userText }
        ]
      })
    });
    const data = await response.json();
    return data.output_text || data.choices?.[0]?.message?.content || "(no response)";
  } catch(e){
    return "Error: " + e.message;
  }
}

async function userSend(){
  const text = inputEl.value.trim();
  if(!text) return;
  appendMessage(text,'user');
  inputEl.value = '';
  appendMessage("Jeff is typing...", 'ai');
  const reply = await generateReply(text);
  messagesEl.lastChild.remove(); // remove typing placeholder
  appendMessage(reply,'ai');
}

sendBtn.addEventListener('click', userSend);
inputEl.addEventListener('keydown', e => { if(e.key==='Enter') userSend(); });
</script>
</body>
</html>
